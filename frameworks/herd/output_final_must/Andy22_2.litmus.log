addr
"A"
flag
"x5"
loadval
"0"
val
"1"
val
"0"
(litmus-test
 "Andy22"
 (Program
  (list
   (Thread
    0
    (list
     (Read 0 0 0 '() '() '() 'A 0 'P)
     (Write 1 0 0 '() '() '() 'A 1 'P)
     (Read 2 1 0 '() '() '() 'A 1 'P)
     (Write 3 2 0 '() '() '() 'B 1 'P)))
   (Thread
    1
    (list
     (Read 4 0 1 '() '() '() 'B 0 'P)
     (Write 5 1 1 '() '() '() 'A 0 'P)))))
 '()
 '())
canonicalize
(Program
 (list
  (Thread
   0
   (list
    (Read 0 0 0 '() '() '() 0 0 'P)
    (Write 1 0 0 '() '() '() 0 1 'P)
    (Read 2 1 0 '() '() '() 0 1 'P)
    (Write 3 2 0 '() '() '() 1 1 'P)))
  (Thread
   1
   (list (Read 4 0 1 '() '() '() 1 0 'P) (Write 5 1 1 '() '() '() 0 0 'P)))))
bProc
(bound
 (relation 2 "proc")
 '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |0|) (|4| |1|) (|5| |1|))
 '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |0|) (|4| |1|) (|5| |1|)))
bLoc
(bound
 (relation 2 "loc")
 '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |1|) (|4| |1|) (|5| |0|))
 '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |1|) (|4| |1|) (|5| |0|)))
bData
(bound
 (relation 2 "data")
 '((|0| |0|) (|1| |1|) (|2| |1|) (|3| |1|) (|4| |0|) (|5| |0|))
 '((|0| |0|) (|1| |1|) (|2| |1|) (|3| |1|) (|4| |0|) (|5| |0|)))
bPO
(bound
 (relation 2 "po")
 '((|0| |2|) (|0| |3|) (|1| |2|) (|1| |3|) (|2| |3|) (|4| |5|))
 '((|0| |2|) (|0| |3|) (|1| |2|) (|1| |3|) (|2| |3|) (|4| |5|)))
bPOLoc
(bound (relation 2 "po-loc") '((|0| |2|) (|1| |2|)) '((|0| |2|) (|1| |2|)))
bAddrDP
(bound (relation 2 "addrdeps") '() '())
bfinalValueNotZero
(bound (relation 2 "finalValueNotZero") '() '())
bfinalValueZero
(bound (relation 2 "finalValueZero") '() '())
bFence.rw.r
(bound (relation 2 "fence.rw.r") '() '())
bFence.tso
(bound (relation 2 "fence.tso") '() '())
end
bTest
(bounds
 (universe '(|0| |1| |2| |3| |4| |5|) #<procedure:...t/lang/universe.rkt:15:5>)
 (list
  (bound
   (relation 1 "MemoryEvent")
   '((|0|) (|1|) (|2|) (|3|) (|4|) (|5|))
   '((|0|) (|1|) (|2|) (|3|) (|4|) (|5|)))
  (bound
   (relation 2 "proc")
   '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |0|) (|4| |1|) (|5| |1|))
   '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |0|) (|4| |1|) (|5| |1|)))
  (bound
   (relation 2 "loc")
   '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |1|) (|4| |1|) (|5| |0|))
   '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |1|) (|4| |1|) (|5| |0|)))
  (bound
   (relation 2 "data")
   '((|0| |0|) (|1| |1|) (|2| |1|) (|3| |1|) (|4| |0|) (|5| |0|))
   '((|0| |0|) (|1| |1|) (|2| |1|) (|3| |1|) (|4| |0|) (|5| |0|)))
  (bound
   (relation 2 "po")
   '((|0| |2|) (|0| |3|) (|1| |2|) (|1| |3|) (|2| |3|) (|4| |5|))
   '((|0| |2|) (|0| |3|) (|1| |2|) (|1| |3|) (|2| |3|) (|4| |5|)))
  (bound (relation 2 "po-loc") '((|0| |2|) (|1| |2|)) '((|0| |2|) (|1| |2|)))
  (bound (relation 2 "addrdeps") '() '())
  (bound (relation 2 "datadeps") '() '())
  (bound (relation 2 "ctrldeps") '() '())
  (bound (relation 2 "finalValue") '() '())
  (bound
   (relation 1 "M")
   '((|0|) (|1|) (|2|) (|3|) (|4|) (|5|))
   '((|0|) (|1|) (|2|) (|3|) (|4|) (|5|)))
  (bound (relation 1 "R") '((|0|) (|2|) (|4|)) '((|0|) (|2|) (|4|)))
  (bound (relation 1 "W") '((|1|) (|3|) (|5|)) '((|1|) (|3|) (|5|)))
  (bound (relation 2 "fence.rw.rw") '() '())
  (bound (relation 2 "fence.rw.r") '() '())
  (bound (relation 2 "fence.rw.w") '() '())
  (bound (relation 2 "fence.r.rw") '() '())
  (bound (relation 2 "fence.r.r") '() '())
  (bound (relation 2 "fence.r.w") '() '())
  (bound (relation 2 "fence.w.rw") '() '())
  (bound (relation 2 "fence.w.r") '() '())
  (bound (relation 2 "fence.w.w") '() '())
  (bound (relation 2 "fence.tso") '() '())
  (bound (relation 2 "rmw") '((|0| |1|)) '((|0| |1|)))
  (bound (relation 1 "Amo") '((|0|) (|1|)) '((|0|) (|1|)))
  (bound (relation 1 "XLr") '() '())
  (bound (relation 1 "XSc") '() '())
  (bound (relation 1 "AQ") '() '())
  (bound (relation 1 "RL") '() '())
  (bound (relation 1 "Rcsc") '() '())
  (bound (relation 1 "AcqRel") '() '())
  (bound (relation 1 "Int") '((|0|) (|1|)) '((|0|) (|1|)))
  (bound (relation 1 "Zero") '((|0|)) '((|0|)))
  (bound (relation 2 "finalValueNotZero") '() '())
  (bound (relation 2 "finalValueZero") '() '())))
bnds: 
(bounds
 (universe '(|0| |1| |2| |3| |4| |5|) #<procedure:...t/lang/universe.rkt:15:5>)
 (list
  (bound
   (relation 1 "MemoryEvent")
   '((|0|) (|1|) (|2|) (|3|) (|4|) (|5|))
   '((|0|) (|1|) (|2|) (|3|) (|4|) (|5|)))
  (bound
   (relation 2 "proc")
   '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |0|) (|4| |1|) (|5| |1|))
   '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |0|) (|4| |1|) (|5| |1|)))
  (bound
   (relation 2 "loc")
   '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |1|) (|4| |1|) (|5| |0|))
   '((|0| |0|) (|1| |0|) (|2| |0|) (|3| |1|) (|4| |1|) (|5| |0|)))
  (bound
   (relation 2 "data")
   '((|0| |0|) (|1| |1|) (|2| |1|) (|3| |1|) (|4| |0|) (|5| |0|))
   '((|0| |0|) (|1| |1|) (|2| |1|) (|3| |1|) (|4| |0|) (|5| |0|)))
  (bound
   (relation 2 "po")
   '((|0| |2|) (|0| |3|) (|1| |2|) (|1| |3|) (|2| |3|) (|4| |5|))
   '((|0| |2|) (|0| |3|) (|1| |2|) (|1| |3|) (|2| |3|) (|4| |5|)))
  (bound (relation 2 "po-loc") '((|0| |2|) (|1| |2|)) '((|0| |2|) (|1| |2|)))
  (bound (relation 2 "addrdeps") '() '())
  (bound (relation 2 "datadeps") '() '())
  (bound (relation 2 "ctrldeps") '() '())
  (bound (relation 2 "finalValue") '() '())
  (bound
   (relation 1 "M")
   '((|0|) (|1|) (|2|) (|3|) (|4|) (|5|))
   '((|0|) (|1|) (|2|) (|3|) (|4|) (|5|)))
  (bound (relation 1 "R") '((|0|) (|2|) (|4|)) '((|0|) (|2|) (|4|)))
  (bound (relation 1 "W") '((|1|) (|3|) (|5|)) '((|1|) (|3|) (|5|)))
  (bound (relation 2 "fence.rw.rw") '() '())
  (bound (relation 2 "fence.rw.r") '() '())
  (bound (relation 2 "fence.rw.w") '() '())
  (bound (relation 2 "fence.r.rw") '() '())
  (bound (relation 2 "fence.r.r") '() '())
  (bound (relation 2 "fence.r.w") '() '())
  (bound (relation 2 "fence.w.rw") '() '())
  (bound (relation 2 "fence.w.r") '() '())
  (bound (relation 2 "fence.w.w") '() '())
  (bound (relation 2 "fence.tso") '() '())
  (bound (relation 2 "rmw") '((|0| |1|)) '((|0| |1|)))
  (bound (relation 1 "Amo") '((|0|) (|1|)) '((|0|) (|1|)))
  (bound (relation 1 "XLr") '() '())
  (bound (relation 1 "XSc") '() '())
  (bound (relation 1 "AQ") '() '())
  (bound (relation 1 "RL") '() '())
  (bound (relation 1 "Rcsc") '() '())
  (bound (relation 1 "AcqRel") '() '())
  (bound (relation 1 "Int") '((|0|) (|1|)) '((|0|) (|1|)))
  (bound (relation 1 "Zero") '((|0|)) '((|0|)))
  (bound (relation 2 "finalValueNotZero") '() '())
  (bound (relation 2 "finalValueZero") '() '())))
reads: 
'((|0|) (|2|) (|4|))
writes:
'((|1|) (|3|) (|5|))
event->locs:
(hash
 '|0|
 (set '|0|)
 '|1|
 (set '|0|)
 '|2|
 (set '|0|)
 '|3|
 (set '|1|)
 '|4|
 (set '|1|)
 '|5|
 (set '|0|))
event->vals:
(hash
 '|0|
 (set '|0|)
 '|1|
 (set '|1|)
 '|2|
 (set '|1|)
 '|3|
 (set '|1|)
 '|4|
 (set '|0|)
 '|5|
 (set '|0|))
lv->writes:
(hash '(|0| . |0|) (set '|5|) '(|0| . |1|) (set '|1|) '(|1| . |1|) (set '|3|))
event_loc_U:
'((|2| |0|) (|3| |1|) (|0| |0|) (|1| |0|) (|4| |1|) (|5| |0|))
event_loc_L:
'((|2| |0|) (|3| |1|) (|0| |0|) (|1| |0|) (|4| |1|) (|5| |0|))
event_val_U:
'((|2| |1|) (|3| |1|) (|0| |0|) (|1| |1|) (|4| |0|) (|5| |0|))
event_val_L:
'((|2| |1|) (|3| |1|) (|0| |0|) (|1| |1|) (|4| |0|) (|5| |0|))
read from init L
'((|4|))
read from init U
'((|0|) (|4|))
from read init L
'((|4| |3|))
from read init U
'((|0| |1|) (|4| |3|) (|0| |5|))
from read initi L
'()
from read initi U
'((|0| |1|))
from read inite L
'((|4| |3|))
from read inite U
'((|4| |3|) (|0| |5|))
rfi_U:
'((|1| |2|))
rfi_L:
'|1|
bExec
(bounds
 (universe '(|0| |1| |2| |3| |4| |5|) #<procedure:...t/lang/universe.rkt:15:5>)
 (list
  (bound (relation 2 "rf") '((|1| |2|)) '((|1| |2|) (|5| |0|)))
  (bound (relation 2 "co") '() '((|1| |5|) (|5| |1|)))
  (bound (relation 2 "rfi") '((|1| |2|)) '((|1| |2|)))
  (bound (relation 2 "rfe") '() '((|5| |0|)))
  (bound (relation 2 "coi") '() '())
  (bound (relation 2 "coe") '() '((|1| |5|) (|5| |1|)))
  (bound
   (relation 2 "fr")
   '((|4| |3|))
   '((|0| |5|) (|4| |3|) (|2| |5|) (|0| |1|)))
  (bound (relation 2 "fri") '() '((|0| |1|)))
  (bound (relation 2 "fre") '((|4| |3|)) '((|0| |5|) (|4| |3|) (|2| |5|)))
  (bound (relation 2 "rsw") '() '())
  (bound (relation 2 "fr_init") '((|4| |3|)) '((|0| |1|) (|4| |3|) (|0| |5|)))
  (bound
   (relation 2 "event_loc")
   '((|2| |0|) (|3| |1|) (|0| |0|) (|1| |0|) (|4| |1|) (|5| |0|))
   '((|2| |0|) (|3| |1|) (|0| |0|) (|1| |0|) (|4| |1|) (|5| |0|)))
  (bound
   (relation 2 "event_val")
   '((|2| |1|) (|3| |1|) (|0| |0|) (|1| |1|) (|4| |0|) (|5| |0|))
   '((|2| |1|) (|3| |1|) (|0| |0|) (|1| |1|) (|4| |0|) (|5| |0|)))))
Allow*
(&& (&& (&& (&& (&& (&& (&& (&& (|| r$0 (! r$3)) (&& (! (&& r$1 r$2)) (|| r$1 r$2))) (&& (|| r$1 (! r$4)) (|| r$2 (! r$5)))) (&& (&& (|| r$6 (! r$12)) (|| r$7 (! r$13))) (&& (|| (|| (&& r$0 r$2) (&& r$12 (! (&& r$0 r$2)))) (! r$6)) (|| r$13 (! r$7)) (|| r$1 (! r$8))))) ...) ...) ...) ...) ...)
#t
